# Docs Strategy

* **言語**: **日本語必須**。
* **配置**: `docs/` 配下。役割分割に応じて整理。

  * 仕様: `docs/spec/`（例: `docs/spec/models/`, `docs/spec/utils/`, `docs/spec/io/`）
  * 設計: `docs/design/`（例: `docs/design/models/`, `docs/design/utils/`, `docs/design/io/`, `docs/design/adr/`）

---

### 仕様（Spec）ドキュメント
* **原則**: 実装仕様を**端的**に、かつ**漏れなく**。実装変更と**同一PR**で更新。
* **文書種別**:

  * **仕様(=Spec)**: 機能/モジュールごとの仕様。
  * 設計(Design) / ADR / HowTo / Runbook（必要に応じて）。
* **仕様テンプレ（最小）**:

  1. 目的（問題/期待効果）
  2. 前提/依存（バージョン・外部I/F）
  3. I/O・データ契約（型・例）
  4. 処理概要（アルゴリズム/主要分岐を箇条書き *または* 擬似コード）
  5. エッジケース/失敗時の挙動
  6. テスト観点（代表ケースと根拠）
  7. 制約・リスク・代替案（あれば）
  8. 変更履歴 / 参照

---

### 設計（Design）ドキュメント

* **目的**: 実装前に方針を固め、影響範囲・トレードオフをレビュー可能にする。
* **作成タイミング**: 新規モジュール/大規模改修/アーキ変更/性能・セキュリティ重要案件の前。
* **運用**:

  * 設計→合意→仕様（Spec）確定→実装の順。実装中に設計が変わる場合は**設計/仕様を先に更新**して整合を保つ。
  * 設計PRは**実装と分けて**レビュー可能にする（合意後に Spec/実装PR）。
* **設計テンプレ（最小）**:

  1. 目的・スコープ・非目標
  2. 背景/課題と前提・依存
  3. 要求/制約（機能/非機能・性能・セキュリティ）
  4. アーキテクチャ案（候補比較と選定理由）
  5. モジュール分割/責務と I/F（入出力・エラー契約）
  6. データモデル/主要フロー（必要なら簡易図）
  7. トレードオフ/リスク/未決事項
  8. 検証計画（POC/ベンチ・指標）と段階的導入/互換性・移行
  9. 参照/変更履歴

---

### 運用の要点（共通）

* 一貫性・小さなステップ・規約遵守。
* 「チェックを通すだけ」の小手先を避け、**根本品質**を優先。
* すべての変更はテスト/ドキュメントで**可観測**にする。
